{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/typeof.js","src/core/Event.js","src/core/FileSlice.js","src/core/I18n.js","src/core/Option.js","src/core/Queue.js","src/core/Reche.js","src/core/Util.js","src/core/Xhr.js","src/index.js"],"names":[],"mappings":"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","file":"reche.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","export default class Event {\r\n    constructor (){\r\n        this.event = {};\r\n        this.xhrEvent = [\r\n            'onloadstart',\r\n            'onprogress',\r\n            'onabort',\r\n            'ontimeout',\r\n            'onerror',\r\n            'onload',\r\n            'onloadend',\r\n            'onreadystatechange'\r\n        ];\r\n        this.recheEvents = [\r\n            \"fileStop\",\r\n            \"fileResume\",\r\n            \"fileCancel\",\r\n            \"fileRestart\",\r\n            \"fileRemove\",\r\n            \"fileRemoveAll\",\r\n            \"fileAppend\",\r\n            \"fileCompleteAll\",\r\n            \"fileProgress\",\r\n            \"fileStatusChange\",\r\n            \"fileError\"\r\n        ]\r\n    }\r\n    on(name,callback){\r\n        if (this.detectEventType(name) && typeof callback === 'function') {\r\n            if (!this.event[name]) {\r\n                this.event[name] = [];\r\n            }\r\n            this.event[name].push(callback);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 事件触发器\r\n     * @param name 事件名\r\n     * @param info 信息？？？ 传入回调的，具体是作甚的还需要往下看\r\n     */\r\n    trigger(name, info) {\r\n        if (this.event[name] && this.event[name].length) {\r\n            for (let i = 0; i < this.event[name].length; i++) {\r\n                this.event[name][i](info);\r\n            }\r\n        }\r\n    }\r\n    detectEventType(name) {\r\n        if (this.recheEvents.indexOf(name) !== -1) {\r\n            return 'recheEvents';\r\n        } else if (this.xhrEvent.indexOf(name) !== -1) {\r\n            return 'xhrEvent';\r\n        }\r\n        console.error(`Unknown event name: ${name}`);\r\n        return null;\r\n    }\r\n}","export default class FileSlice {\r\n    constructor(reche) {\r\n        this.reche = reche;\r\n    }\r\n    /**\r\n     * 文件分片处理逻辑\r\n     * @param file 原生file\r\n     * @param data 其他參數\r\n     * @returns {{resParam: null, fileName: *, file: null, netSpeed: string, data: *, fileSize: *, progress: number, fileChunk: Array, fileId: string, status: number}}\r\n     */\r\n    fileSlice(file,data) {\r\n        let fileId = this.reche.util.randomString(8);\r\n        let fileSliced = {\r\n            fileId: fileId,\r\n            fileName: file.name,\r\n            fileSize: file.size,\r\n            netSpeed:\"\",\r\n            file:null,\r\n            data:data,\r\n            resParam:null,\r\n            status: this.reche.fileStatus.onWaiting,\r\n            progress: 0,\r\n            fileChunk: []\r\n        };\r\n        if(this.reche.option.chunkUse && file.size >= this.reche.option.chunkUseSize){\r\n            let index = 0; //切片索引\r\n            let start = 0; //切片开始位置\r\n            let end = 0; //切片结束位置\r\n            let chunkSize = this.reche.option.chunkSize;// 配置中读取切块大小\r\n            let totalSlices = Math.ceil(file.size / chunkSize); // 计算文件切片总数（向上取整）\r\n            while (index < totalSlices) {\r\n                //分片\r\n                let chunkObj = {\r\n                    fileChunkSize: 0,\r\n                    fileId: fileId,\r\n                    chunk: 0,\r\n                    fileChunkBlob: null\r\n                };\r\n                start = index * chunkSize;\r\n                end = start + chunkSize;\r\n                //切割文件\r\n                let fileChunkBlob = file.slice(start, end);\r\n                index++;\r\n                chunkObj.fileChunkBlob = fileChunkBlob;\r\n                chunkObj.chunk = index;\r\n                chunkObj.fileChunkSize = fileChunkBlob.size;\r\n                fileSliced.fileChunk.push(chunkObj)\r\n            }\r\n        }else{\r\n            //普通\r\n            fileSliced.file = file\r\n        }\r\n        return fileSliced\r\n    }\r\n}","export default class I18n {\r\n    constructor(lang){\r\n        this.lang = lang;\r\n        this.txt = {\r\n            'zh-cn': {\r\n                unSupportXhr:'您的浏览器不支持XHR请求',\r\n                cannotStopByProgress:'正在创建文件不能暂停',\r\n                cannotStopByUploaded:'文件已上传完成不能暂停',\r\n                cannotStop:'当前文件状态不能暂停',\r\n                netSpeedUnit:'秒'\r\n            },\r\n            'en':{\r\n                netSpeedUnit:'S',\r\n                unSupportXhr:'Your browser does not support XHR requests',\r\n            }\r\n        }\r\n    }\r\n\r\n    i18n(name){\r\n        if (this.txt[this.lang] && this.txt[this.lang][name]) {\r\n            return this.txt[this.lang][name];\r\n        } else {\r\n            return name;\r\n        }\r\n    }\r\n}","/**\r\n * 配置处理\r\n */\r\nexport default class Option {\r\n    constructor() {\r\n        this.defaultOption = {\r\n            chunkUse: true,//是否开启分片上传 默认不开启\r\n            chunkSize: 5 << 20,//分片大小 默认5M\r\n            chunkUseSize: 10 << 20,//使用分片上传时文件最小大小 默认10M\r\n            path: '',//上传接口 如果开启分片上传而没有chunkInitPath和chunkPath时 使用path\r\n            chunkPath: '',//分片上传接口\r\n            timeout: 1000 * 60 * 60,//请求超时时间 默认1小时\r\n            chunkThreadNumber: 5,//分片上传时，开启的线程数，\r\n            chunkFirstResParamKey: {},//分配上传时第一片上传完成返回的数据中需要回传的参数key\r\n            lang: 'zh-cn',//语言 默认中文\r\n            async: true,\r\n            headers: {},\r\n            fdKey: {},\r\n        }\r\n    }\r\n\r\n    optionInit(option) {\r\n        for (const item in this.defaultOption) {\r\n            if (this.defaultOption.hasOwnProperty(item) && !option.hasOwnProperty(item)) {\r\n                option[item] = this.defaultOption[item];\r\n            }\r\n        }\r\n        let chunkFirstResParamKey = {\r\n            uploadId: 'uploadId',\r\n            fileName: 'fileName'\r\n        };\r\n        if (option.chunkFirstResParamKey) {\r\n            for (const item in chunkFirstResParamKey) {\r\n                option.chunkFirstResParamKey[item] = option.chunkFirstResParamKey[item] ? option.chunkFirstResParamKey[item] : chunkFirstResParamKey[item]\r\n            }\r\n        } else {\r\n            option.chunkFirstResParamKey = chunkFirstResParamKey\r\n        }\r\n\r\n        return option\r\n    }\r\n\r\n}","/**\r\n *   我们一起逃离\r\n     From proving to ourselves we're not afraid\r\n     为了证明自己并不懦弱\r\n     And now\r\n     而现在\r\n     These silver screens,these scripted dreams\r\n     这些闪亮的银幕，和潦草的梦想\r\n     And now\r\n     而现在\r\n     We're suddenly\r\n     如此突然地\r\n     Fates latest casualties\r\n     我们都败给了命运。\r\n                            -----《Reprieve》2020.04.14\r\n */\r\nexport default class Queue {\r\n    constructor(reche) {\r\n        this.reche = reche;\r\n        this.fileStoppedId = [];\r\n        this.queue = {\r\n            fileChunkOnWaiting: [],//等待上传的队列\r\n            fileChunkOnProgress: [],//正在上传的队列\r\n            fileChunkOnCompleted: [],//上传成功的队列\r\n            // fileChunkOnError: [],//上传失败的队列\r\n            // fileChunkStopped: [],//暂停中的文件\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 将文件(块)从各个队列中移除\r\n     * @param fileId\r\n     */\r\n    deleteChunkOfQueue(fileId) {\r\n        for (let item in this.queue) {\r\n            let tempObj = [];\r\n            for (let i = 0; i < this.queue[item].length; i++) {\r\n                if (this.queue[item][i].fileId !== fileId) {\r\n                    tempObj.push(Object.assign({},this.queue[item][i]))\r\n                }\r\n            }\r\n            this.queue[item] = tempObj\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 将某个状态的文件队列中的某个文件的块前移\r\n     * @param queueName\r\n     * @param fileId\r\n     */\r\n    preposition(queueName,fileId) {\r\n        let tempArr = [];\r\n        let otherThisArr = [];\r\n        for(let i= 0;i<this.queue[queueName].length;i++){\r\n            let aObj = Object.assign({},this.queue[queueName][i]);\r\n            if(this.queue[queueName][i].fileId === fileId){\r\n                tempArr.push(aObj)\r\n            }else{\r\n                otherThisArr.push(aObj)\r\n            }\r\n        }\r\n        this.queue[queueName] = tempArr.concat(otherThisArr);\r\n    }\r\n    /**\r\n     * 重置任务队列\r\n     */\r\n    resetChunkQueue() {\r\n        this.queue = {\r\n            fileChunkOnWaiting: [],\r\n            fileChunkOnProgress: [],\r\n            fileChunkOnCompleted: [],\r\n            // fileChunkStopped: [],\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 队列中移除指定fileId任务，fileId不传即删除所有任务\r\n     * @param fileId\r\n     */\r\n    removeFileChunk(fileId = null) {\r\n        if (fileId) {\r\n            this.deleteChunkOfQueue(fileId)\r\n        } else {\r\n            this.resetChunkQueue()\r\n        }\r\n        //停止所有xhr任务\r\n        this.reche.abortAndRemoveXhr(fileId)\r\n    }\r\n\r\n    /**\r\n     * 添加文件到文件列表和文件上传队列\r\n     * @param fileSliced\r\n     * @returns {Queue}\r\n     */\r\n    appendFileChunkQueue(fileSliced) {\r\n        if (fileSliced.file && !fileSliced.fileChunk.length) {\r\n            this.queue.fileChunkOnWaiting.push({\r\n                fileId: fileSliced.fileId,\r\n                data: fileSliced.data,\r\n                file: fileSliced.file,\r\n                chunk:-1,//这是一整个文件\r\n                chunks:0,\r\n                fileName:fileSliced.fileName,\r\n                fileChunkSize: fileSliced.fileSize,\r\n                totalSize:fileSliced.fileSize\r\n            })\r\n        } else {\r\n            for(let i = 0;i<fileSliced.fileChunk.length;i++){\r\n                let obj = {\r\n                    fileId: fileSliced.fileId,\r\n                    data: fileSliced.data,\r\n                    file: fileSliced.fileChunk[i].fileChunkBlob,\r\n                    chunk:fileSliced.fileChunk[i].chunk,\r\n                    chunks:fileSliced.fileChunk.length,\r\n                    fileName:fileSliced.fileName,\r\n                    fileChunkSize: fileSliced.fileChunk[i].fileChunkSize,\r\n                    totalSize:fileSliced.fileSize\r\n                };\r\n                this.queue.fileChunkOnWaiting.push(obj)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 队列任务分发\r\n     * 将一个个文件（块）从等待队列转入上传队列\r\n     * @returns {boolean|*}\r\n     */\r\n    dispatch(threadNumber = null) {\r\n        //判断是否有暂停的任务\r\n        let index = 0;\r\n        let kIndex = -1;\r\n        if (this.fileStoppedId.length) {\r\n            for (let k = 0; k < this.queue.fileChunkOnWaiting.length; k++) {\r\n                let tag = true;\r\n                for (let i = 0; i < this.fileStoppedId.length; i++) {\r\n                    if (this.fileStoppedId[i] === this.queue.fileChunkOnWaiting[k].fileId) {\r\n                        tag = !tag;\r\n                        break\r\n                    }\r\n                }\r\n                if (tag) {\r\n                    index = k;\r\n                    break\r\n                }\r\n                kIndex = k\r\n            }\r\n        }\r\n        if (kIndex === this.queue.fileChunkOnWaiting.length - 1) {\r\n            return null\r\n        } else {\r\n            if (this.queue.fileChunkOnWaiting.length) {\r\n                let fChunk = this.queue.fileChunkOnWaiting.splice(index, 1)[0];\r\n                this.queue.fileChunkOnProgress.push(fChunk);\r\n                return fChunk\r\n            } else {\r\n                console.warn('no fileChunk in fileChunkOnWaiting')\r\n            }\r\n        }\r\n    }\r\n\r\n    _dispatch(){\r\n\r\n    }\r\n\r\n    /**\r\n     * 将文件（块）从上传中移入已完成\r\n     * @param chunk\r\n     * @returns {*}\r\n     */\r\n    formProgressToCompleted(chunk) {\r\n        for (let i = 0; i < this.queue.fileChunkOnProgress.length; i++) {\r\n            if (chunk.fileId === this.queue.fileChunkOnProgress[i].fileId &&\r\n                chunk.index === this.queue.fileChunkOnProgress[i].index) {\r\n                const fChunk = this.queue.fileChunkOnProgress.splice(i, 1)[0];\r\n                this.queue.fileChunkOnCompleted.push(fChunk);\r\n                return fChunk\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    forProgressToError(fileId){\r\n\r\n    }\r\n\r\n    formWaitingToStopped(fileId) {\r\n\r\n    }\r\n\r\n    formStoppedToWaiting(fileId) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 是否完成某个文件的任务\r\n     * @param fileId\r\n     * @returns {boolean}\r\n     */\r\n    isComplete(fileId) {\r\n        let tag = 0;\r\n        for (let i = 0; i < this.queue.fileChunkOnCompleted.length; i++) {\r\n            if (this.queue.fileChunkOnCompleted[i].fileId === fileId) {\r\n                tag += 1\r\n            }\r\n        }\r\n        return tag === this.reche.fileMap[fileId].fileChunk.length;\r\n    }\r\n\r\n    /**\r\n     * 是否完成了当前选择的所有文件的任务\r\n     * @returns {boolean}\r\n     */\r\n    isCompleteAll() {\r\n        let statusAllComplete = true;\r\n        for(let item in this.reche.fileMap){\r\n            if(this.reche.fileMap[item].status !== this.reche.fileStatus.onCompleted){\r\n                statusAllComplete = false;\r\n                break\r\n            }\r\n        }\r\n        return this.queue.fileChunkOnWaiting.length === 0 &&\r\n            this.queue.fileChunkOnProgress.length === 0 &&\r\n            this.reche.xhrList.length === 0 && statusAllComplete;\r\n    }\r\n}","import Util from './Util';\r\nimport Xhr from './Xhr';\r\nimport Event from './Event';\r\nimport I18n from './I18n';\r\nimport Option from './Option';\r\nimport Queue from './Queue';\r\nimport FileSlice from './FileSlice';\r\n\r\n/**\r\n *   啊\r\n\r\n 今天都是好日子\r\n\r\n 千金的光阴不能等\r\n\r\n 明天又是好日子\r\n\r\n 赶上了盛世咱享太平\r\n\r\n 今天是个好日子\r\n\r\n 心想的事儿都能成\r\n */\r\n\r\nclass Reche {\r\n    constructor(option) {\r\n        this.fileMap = {};\r\n        this.util = new Util(this);\r\n        this.option = new Option().optionInit(option);\r\n        this.event = new Event();\r\n        this.i18n = new I18n(this.option.lang);\r\n        this.queue = new Queue(this);\r\n        this.fileSlice = new FileSlice(this);\r\n        this.fdKey = {\r\n            fileKey: 'file',\r\n            chunkKey: 'chunk',\r\n            chunksKey: 'chunks',\r\n            fileNameKey: 'fileName',\r\n            fileChunkSizeKey:\"fileChunkSize\",\r\n            totalSizeKey:\"totalSize\",\r\n        };\r\n        this.fileStatus = {\r\n            onWaiting: 0,//等待中\r\n            onProgress: 1,//上传中\r\n            onCompleted: 2,//已完成\r\n            onStopped: 3,//已暂停\r\n            onError: 4,//上传失败\r\n            onCanceled: 5//已取消\r\n        };\r\n        this.xhrList = []\r\n    }\r\n\r\n    /**\r\n     * 文件解析上传主入口\r\n     * @param option\r\n     * @returns {{}|*}\r\n     */\r\n    reche(option) {\r\n        let files = option.files;\r\n        let data = this.util.isObject(option.data) ? option.data : null;\r\n        if (files.length) {\r\n            for (let i = 0; i < files.length; i++) {\r\n                let fileSliced = this.fileSlice.fileSlice(files[i], data);\r\n                this.fileMap[fileSliced.fileId] = fileSliced;\r\n                this.queue.appendFileChunkQueue(fileSliced);\r\n                this.event.trigger('fileAppend', {\r\n                    event: 'event:::fileAppend',\r\n                    file: files,\r\n                    fileMap: this.fileMap\r\n                });\r\n                this.event.trigger('fileStatusChange', {\r\n                    event: 'event:::fileStatusChange',\r\n                    fileId: fileSliced.fileId,\r\n                    status: this.fileStatus.onWaiting,\r\n                });\r\n            }\r\n            this.exeXhr();\r\n        }\r\n    }\r\n\r\n    exeXhr() {\r\n\r\n        if (this.xhrList.length === 0 && this.queue.queue.fileChunkOnWaiting.length) {\r\n            let fc = this.queue.dispatch(this.option.chunkThreadNumber);\r\n            if(fc){\r\n                let xhr = new Xhr(this);\r\n                this.xhrList.push(xhr);\r\n                xhr.sendXhr(fc)\r\n            }\r\n\r\n            // for(let i = 0;i<fc.length;i++){\r\n            //         let xhr = new Xhr(this);\r\n            //         this.xhrList.push(xhr);\r\n            //         xhr.sendXhr(fc[i])\r\n            // }\r\n        }\r\n    }\r\n\r\n    abortAndRemoveXhr(fileId = null) {\r\n        if(fileId){\r\n            for (let i = 0; i < this.xhrList.length; i++) {\r\n                if (fileId === this.xhrList[i].fileOrChunk.fileId) {\r\n                    this.xhrList[i].abortXhr();\r\n                    this.xhrList.splice(i, 1);\r\n                    return\r\n                }\r\n            }\r\n        }else {\r\n            for (let i = 0; i < this.xhrList.length; i++) {\r\n                this.xhrList[i].abortXhr();\r\n                this.xhrList = []\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 删除所有上传任务\r\n     * todo 暂时不启用\r\n     * @returns {{fileMap: ({}|*)}}\r\n     */\r\n    // removeAll() {\r\n    //     this.fileMap = {};\r\n    //     this.queue.removeFileChunk();\r\n    //     this.abortAndRemoveXhr();\r\n    //     this.event.trigger('fileRemoveAll', {\r\n    //         event: 'event:::fileRemoveAll',\r\n    //         fileMap: this.fileMap\r\n    //     });\r\n    // }\r\n\r\n    /**\r\n     * 删除某个上传任务\r\n     * @param fileId\r\n     * @returns {{fileMap: ({}|*), fileId: *}}\r\n     */\r\n    remove(fileId) {\r\n        if (this.fileMap[fileId]) {\r\n            if(this.fileMap[fileId].status === this.fileStatus.onCanceled ||\r\n                this.fileMap[fileId].status === this.fileStatus.onCompleted ||\r\n                this.fileMap[fileId].status === this.fileStatus.onError){\r\n                delete this.fileMap[fileId];\r\n                this.queue.removeFileChunk(fileId);\r\n                this.abortAndRemoveXhr(fileId);\r\n                this.event.trigger('fileRemove', {\r\n                    event: 'event:::fileRemove',\r\n                    fileId: fileId,\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    stop(fileId){\r\n        if(this.fileMap[fileId]){\r\n            if(this.fileMap[fileId].file){\r\n                this.event.trigger('fileStop', {\r\n                    event: 'event:::fileStop',\r\n                    fileId: fileId,\r\n                    canStop:false,\r\n                    message:this.i18n.i18n('cannotStopByProgress')\r\n                });\r\n            }else {\r\n                if(this.fileMap[fileId].status === this.fileStatus.onWaiting || this.fileMap[fileId].status === this.fileStatus.onProgress){\r\n                    this.queue.fileStoppedId.push(fileId);\r\n                    this.fileMap[fileId].status = this.fileStatus.onStopped;\r\n                    this.event.trigger('fileStop', {\r\n                        event: 'event:::fileStop',\r\n                        fileId: fileId,\r\n                    });\r\n                    this.event.trigger('fileStatusChange', {\r\n                        event: 'event:::fileStatusChange',\r\n                        fileId: fileId,\r\n                        status: this.fileStatus.onStopped,\r\n                    });\r\n                }else{\r\n                    this.event.trigger('fileStop', {\r\n                        event: 'event:::fileStop',\r\n                        fileId: fileId,\r\n                        canStop:false,\r\n                        message:this.i18n.i18n('cannotStop')\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    changeFileStatus(fileId = null,excludeFileId = null,formStatus,toStatus){\r\n        if(fileId){\r\n            if(this.fileMap[fileId].status !== toStatus){\r\n                this.fileMap[fileId].status = toStatus;\r\n                this.event.trigger('fileStatusChange', {\r\n                    event: 'event:::fileStatusChange',\r\n                    fileId: fileId,\r\n                    status: toStatus,\r\n                });\r\n            }\r\n        }else {\r\n            for(let item in this.fileMap){\r\n                if (item !== excludeFileId && this.fileMap[item].status === formStatus){\r\n                    this.fileMap[item].status = toStatus;\r\n                    this.event.trigger('fileStatusChange', {\r\n                        event: 'event:::fileStatusChange',\r\n                        fileId: fileId,\r\n                        status: toStatus,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    removeFileIdFormStoppedId(fileId){\r\n        for(let i = 0;i<this.queue.fileStoppedId.length;i++){\r\n            if(fileId === this.queue.fileStoppedId[i]){\r\n                this.queue.fileStoppedId.splice(i,1);\r\n                break\r\n            }\r\n        }\r\n    }\r\n    resume(fileId){\r\n        if(this.fileMap[fileId] && this.fileMap[fileId].status === this.fileStatus.onStopped){\r\n            console.log(this.queue.queue.fileChunkOnProgress);\r\n            if(this.queue.queue.fileChunkOnProgress.length === 0){\r\n                this.changeFileStatus(null,fileId,this.fileStatus.onProgress,this.fileStatus.onWaiting);\r\n                this.removeFileIdFormStoppedId(fileId);\r\n                this.abortAndRemoveXhr(fileId);\r\n                this.queue.preposition('fileChunkOnWaiting',fileId);\r\n                this.event.trigger('fileResume', {\r\n                    event: 'event:::fileResume',\r\n                    fileId: fileId,\r\n                });\r\n                this.exeXhr()\r\n            }\r\n\r\n        }\r\n    }\r\n    restart(fileId){\r\n        if(this.fileMap[fileId] ){\r\n            if(this.fileMap[fileId].status === this.fileStatus.onCanceled ||\r\n                this.fileMap[fileId].status === this.fileStatus.onError){\r\n                /**\r\n                 * 1、改变文件状态为等待状态\r\n                 * 2、将文件块添加到等待队列\r\n                 */\r\n                this.changeFileStatus(fileId,null,null,this.fileStatus.onWaiting);\r\n                this.queue.appendFileChunkQueue(this.fileMap[fileId]);\r\n                this.event.trigger('fileRestart', {\r\n                    event: 'event:::fileRestart',\r\n                    fileId: fileId,\r\n                });\r\n                this.exeXhr();\r\n            }\r\n        }\r\n    }\r\n    cancel(fileId){\r\n        if(this.fileMap[fileId]){\r\n            if(this.fileMap[fileId].status === this.fileStatus.onWaiting ||\r\n                this.fileMap[fileId].status === this.fileStatus.onStopped ||\r\n                this.fileMap[fileId].status === this.fileStatus.onProgress){\r\n                this.removeFileIdFormStoppedId(fileId);\r\n                this.changeFileStatus(fileId,null,null,this.fileStatus.onCanceled);\r\n                this.abortAndRemoveXhr(fileId);\r\n                this.queue.removeFileChunk(fileId);\r\n                this.event.trigger('fileCancel', {\r\n                    event: 'event:::fileCancel',\r\n                    fileId: fileId,\r\n                });\r\n                this.fileMap[fileId].progress = 0;\r\n                this.event.trigger('fileProgress', {\r\n                    event: 'event:::fileProgress',\r\n                    fileId: fileId,\r\n                    progress: 0,\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    on(name, callback) {\r\n        this.event.on(name, callback);\r\n        return this\r\n    }\r\n\r\n}\r\n\r\nObject.defineProperty(Reche, 'version', {\r\n    enumerable: true,\r\n    get: function () {\r\n        // replaced by browserify-versionify transform\r\n        return '__VERSION__';\r\n    }\r\n});\r\nexport default Reche\r\n\r\n","export default class Util {\r\n    constructor(reche) {\r\n        this.reche = reche;\r\n        this.fileStatus = {\r\n            onWaiting: 0,//等待中\r\n            onProgress: 1,//上传中\r\n            onStopped: 2,//已暂停\r\n            onCompleted: 3,//已完成\r\n            onError: 4,//上传失败\r\n            onCanceled: 5//已取消\r\n        }\r\n    }\r\n\r\n    isNull(val) {\r\n        return val === null;\r\n    }\r\n\r\n    isNullString(val) {\r\n        return val === \"\";\r\n    }\r\n\r\n    isObject(val) {\r\n        if (val !== null && typeof val === \"object\") {\r\n            return val.constructor === Object;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isUndefined(val) {\r\n        return val === undefined;\r\n    }\r\n\r\n    isNumber(val) {\r\n        return typeof val === 'number';\r\n    }\r\n\r\n    isString(val) {\r\n        return typeof val === 'string';\r\n    }\r\n\r\n    isBoolean(val) {\r\n        return val === true || val === false;\r\n    }\r\n\r\n    isTrue(val) {\r\n        return val === true;\r\n    }\r\n\r\n    randomString(len) {\r\n        let str = \"\";\r\n        let range = len;\r\n        let arr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\r\n            'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k',\r\n            'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v',\r\n            'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F',\r\n            'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',\r\n            'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\r\n        for (let i = 0; i < range; i++) {\r\n            let pos = Math.round(Math.random() * (arr.length - 1));\r\n            str += arr[pos];\r\n        }\r\n        if (this.reche.fileMap[str]) {\r\n            this.randomString(len)\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    isFalse(val) {\r\n        return val === false;\r\n    }\r\n\r\n    isArray(val) {\r\n        return val instanceof Array\r\n    }\r\n\r\n    getNetSpeed(size,timeDiff){\r\n        let byteSpeed =size/timeDiff;\r\n        if(byteSpeed<1024){\r\n            return byteSpeed.toFixed(2)+'Byte/'+this.reche.i18n.i18n('netSpeedUnit');\r\n        }else if(byteSpeed<1024*1024) {\r\n            byteSpeed = (byteSpeed/1024).toFixed(2);\r\n            return byteSpeed+'Kb/'+this.reche.i18n.i18n('netSpeedUnit');\r\n        }else {\r\n            byteSpeed = (byteSpeed / 1024 / 1024).toFixed(2);\r\n            return byteSpeed + 'Mb/'+this.reche.i18n.i18n('netSpeedUnit');\r\n        }\r\n    }\r\n}","export default class Xhr {\r\n    constructor(reche) {\r\n        this.reche = reche;\r\n        this.xhr = this.initXhr();\r\n        this.progress = 0;\r\n        this.fileOrChunk = null;\r\n        this.startTime = 0\r\n    }\r\n\r\n    /**\r\n     * 初始化一个XHR，但是不发送 ，不执行send方法\r\n     * @returns {XMLHttpRequest|null}\r\n     */\r\n    initXhr() {\r\n        let xhr = null;\r\n        if (window.XMLHttpRequest) {\r\n            xhr = new XMLHttpRequest()\r\n        } else if (window.ActiveXObject) {\r\n            xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n        } else {\r\n            console.warn(this.reche.i18n.i18n('unSupportXhr'));\r\n            return xhr\r\n        }\r\n        if (this.reche.option.async) {\r\n            xhr.timeout = this.reche.option.timeout;\r\n            xhr.upload.ontimeout = (e) => {\r\n                this.xhrError(this.fileOrChunk.fileId, xhr);\r\n            };\r\n        }\r\n        xhr.upload.onprogress = (e) => {\r\n            let progress = 0;\r\n            if (e.lengthComputable) {\r\n                this.progress = e.loaded / e.total;\r\n                if (this.fileOrChunk.chunk === -1) {\r\n                    progress = e.loaded / e.total\r\n                } else {\r\n                    let totalUpSize = 0;\r\n                    //获取整个文件上传进度\r\n                    for (let i = 0; i < this.reche.xhrList.length; i++) {\r\n                        totalUpSize += (this.reche.xhrList[i].fileOrChunk.fileChunkSize * this.progress)\r\n                    }\r\n                    for (let n = 0; n < this.reche.queue.queue.fileChunkOnCompleted.length; n++) {\r\n                        if (this.fileOrChunk.fileId === this.reche.queue.queue.fileChunkOnCompleted[n].fileId) {\r\n                            totalUpSize += this.reche.queue.queue.fileChunkOnCompleted[n].fileChunkSize\r\n                        }\r\n                    }\r\n                    progress = totalUpSize / this.reche.fileMap[this.fileOrChunk.fileId].fileSize;\r\n                }\r\n            }\r\n            let speed = this.reche.util.getNetSpeed(this.fileOrChunk.fileChunkSize, (new Date().getTime() - this.startTime) / 1000);\r\n            this.reche.fileMap[this.fileOrChunk.fileId].netSpeed = speed;\r\n            this.reche.fileMap[this.fileOrChunk.fileId].progress = progress;\r\n            this.reche.event.trigger('fileProgress', {\r\n                event: 'event:::fileProgress',\r\n                fileId: this.fileOrChunk.fileId,\r\n                netSpeed :speed,\r\n                progress: progress,\r\n            });\r\n        };\r\n        xhr.upload.onerror = (e) => {\r\n            this.xhrError(this.fileOrChunk.fileId, xhr);\r\n        };\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200) {\r\n                    let resJson = JSON.parse(xhr.response);\r\n                    if (Number(resJson.status) === 200) {\r\n                        // 这里已经传完了\r\n                        // 1、文件上传队列位置改变\r\n                        let fileOfMap = this.reche.fileMap[this.fileOrChunk.fileId];\r\n                        // console.log(\"当前文件总块数：\" + fileOfMap.fileChunk.length + \"----已完成完成块数：\" + this.fileOrChunk.chunk);\r\n                        this.reche.queue.formProgressToCompleted(this.fileOrChunk);\r\n                        if (this.fileOrChunk.chunk === -1) {\r\n                            // 如果是小文件上传\r\n                            this.reche.changeFileStatus(this.fileOrChunk.fileId, null, null, this.reche.fileStatus.onCompleted);\r\n                        } else {\r\n                            // 如果是当前大文件块的第一块 绑定设置回传参数\r\n                            if (this.fileOrChunk.chunk === 1) {\r\n                                let resParam = {};\r\n                                let cusfrpk = this.reche.option.chunkFirstResParamKey;\r\n                                if (resJson.data) {\r\n                                    for (let item in cusfrpk) {\r\n                                        resParam[cusfrpk[item]] = resJson.data[cusfrpk[item]]\r\n                                    }\r\n                                    this.reche.fileMap[this.fileOrChunk.fileId].resParam = resParam\r\n                                }\r\n                            }\r\n                            //判断整个文件是否上传完\r\n                            if (this.reche.queue.isComplete(this.fileOrChunk.fileId)) {\r\n                                // 文件状态改变\r\n                                this.reche.changeFileStatus(this.fileOrChunk.fileId, null, null, this.reche.fileStatus.onCompleted);\r\n                            }\r\n                        }\r\n                        //本次任务完成 停止并移除Xhr\r\n                        this.reche.abortAndRemoveXhr(this.fileOrChunk.fileId);\r\n                        // 判断是否所有任务完成\r\n                        if (this.reche.queue.isCompleteAll()) {\r\n                            this.reche.event.trigger('fileCompleteAll', {\r\n                                event: 'event:::fileCompleteAll',\r\n                                response: xhr.response\r\n                            });\r\n                        } else {\r\n                            //执行下次任务\r\n                            this.reche.exeXhr()\r\n                        }\r\n                    } else {\r\n                        this.xhrError(this.fileOrChunk.fileId, xhr)\r\n                    }\r\n                } else {\r\n                    this.xhrError(this.fileOrChunk.fileId, xhr);\r\n                }\r\n            }\r\n        };\r\n        return xhr\r\n    }\r\n\r\n    /**\r\n     * 发送请求\r\n     * @param fileOrChunk\r\n     */\r\n    sendXhr(fileOrChunk) {\r\n        this.fileOrChunk = fileOrChunk;\r\n        if (this.xhr) {\r\n            let fd = this.buildFormData(fileOrChunk);\r\n            if (this.reche.fileMap[fileOrChunk.fileId].status !== this.reche.fileStatus.onProgress) {\r\n                this.reche.changeFileStatus(this.fileOrChunk.fileId, null, null, this.reche.fileStatus.onProgress)\r\n            }\r\n            let path = this.fileOrChunk.chunk === -1 ? this.reche.option.path : this.reche.option.chunkPath;\r\n            this.xhr.open('POST', path, this.reche.option.async);\r\n            this.setXhrHeader(this.xhr, this.reche.option.headers);\r\n            this.startTime = new Date().getTime();\r\n            this.xhr.send(fd)\r\n        }\r\n    }\r\n\r\n    xhrError(fileId, xhr) {\r\n        this.reche.abortAndRemoveXhr(fileId);\r\n        this.reche.queue.deleteChunkOfQueue(fileId);\r\n        this.reche.changeFileStatus(fileId, null, null, this.reche.fileStatus.onError)\r\n        this.reche.event.trigger('fileError', {\r\n            event: 'event:::fileError',\r\n            fileId: fileId,\r\n            xhr: xhr\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 构建formdata数据\r\n     * @param fileOrChunk\r\n     * @returns {FormData}\r\n     */\r\n    buildFormData(fileOrChunk) {\r\n        let formData = new FormData();\r\n        for(let item in this.reche.option.fdKey){\r\n            if(this.reche.fdKey[item]){\r\n                if(fileOrChunk.chunk === 1 && item === 'fileName'){\r\n                    formData.append(this.reche.option.fdKey[item],fileOrChunk[this.reche.fdKey[item]])\r\n                }else {\r\n                    formData.append(this.reche.option.fdKey[item],fileOrChunk[this.reche.fdKey[item]])\r\n                }\r\n            }\r\n        }\r\n        let resParam = this.reche.fileMap[fileOrChunk.fileId].resParam;\r\n        if (resParam) {\r\n            for (let item in this.reche.option.chunkFirstResParamKey) {\r\n                if(resParam[item]){\r\n                    formData.append(item, resParam[item])\r\n                }\r\n            }\r\n        }\r\n        if (this.reche.util.isObject(fileOrChunk.data) && fileOrChunk.data.toString() !== '{}') {\r\n            for (let item in fileOrChunk.data) {\r\n                formData.append(item, fileOrChunk.data[item])\r\n            }\r\n        }\r\n        return formData\r\n    }\r\n\r\n    /**\r\n     * 终止请求\r\n     * todo 在这里终止请求好像并没有什么卵用，需要继续测试\r\n     */\r\n    abortXhr() {\r\n        if (this.xhr) {\r\n            //this.xhr.abort();\r\n            this.xhr = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置请求头\r\n     * @param xhr\r\n     * @param headers\r\n     */\r\n    setXhrHeader(xhr, headers) {\r\n        if (this.reche.util.isObject(headers) && headers.toString() !== '{}') {\r\n            for (let item in headers) {\r\n                xhr.setRequestHeader(item, headers[item]);\r\n            }\r\n        }\r\n    }\r\n}","module.exports = require('./core/Reche').default;\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwic3JjL2NvcmUvRXZlbnQuanMiLCJzcmMvY29yZS9GaWxlU2xpY2UuanMiLCJzcmMvY29yZS9JMThuLmpzIiwic3JjL2NvcmUvT3B0aW9uLmpzIiwic3JjL2NvcmUvUXVldWUuanMiLCJzcmMvY29yZS9SZWNoZS5qcyIsInNyYy9jb3JlL1V0aWwuanMiLCJzcmMvY29yZS9YaHIuanMiLCJzcmMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7SUNoQnFCLEs7QUFDakIsbUJBQWM7QUFBQTtBQUNWLFNBQUssS0FBTCxHQUFhLEVBQWI7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsQ0FDWixhQURZLEVBRVosWUFGWSxFQUdaLFNBSFksRUFJWixXQUpZLEVBS1osU0FMWSxFQU1aLFFBTlksRUFPWixXQVBZLEVBUVosb0JBUlks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R0FBTCxHQUFXLElBQVg7QUFDSDtBQUNKO0FBRUQ7Ozs7Ozs7O2lDQUthLEcsRUFBSyxPLEVBQVM7QUFDdkIsVUFBSSxLQUFLLEtBQUwsQ0FBVyxJQUFYLENBQWdCLFFBQWhCLENBQXlCLE9BQXpCLEtBQXFDLE9BQU8sQ0FBQyxRQUFSLE9BQXVCLElBQWhFLEVBQXNFO0FBQ2xFLGFBQUssSUFBSSxJQUFULElBQWlCLE9BQWpCLEVBQTBCO0FBQ3RCLFVBQUEsR0FBRyxDQUFDLGdCQUFKLENBQXFCLElBQXJCLEVBQTJCLE9BQU8sQ0FBQyxJQUFELENBQWxDO0FBQ0g7QUFDSjtBQUNKOzs7Ozs7Ozs7O0FDeE1MLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLE9BQU8sQ0FBQyxjQUFELENBQVAsV0FBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jbGFzc0NhbGxDaGVjazsiLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NyZWF0ZUNsYXNzOyIsImZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgXCJkZWZhdWx0XCI6IG9ialxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQ7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50IHtcclxuICAgIGNvbnN0cnVjdG9yICgpe1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSB7fTtcclxuICAgICAgICB0aGlzLnhockV2ZW50ID0gW1xyXG4gICAgICAgICAgICAnb25sb2Fkc3RhcnQnLFxyXG4gICAgICAgICAgICAnb25wcm9ncmVzcycsXHJcbiAgICAgICAgICAgICdvbmFib3J0JyxcclxuICAgICAgICAgICAgJ29udGltZW91dCcsXHJcbiAgICAgICAgICAgICdvbmVycm9yJyxcclxuICAgICAgICAgICAgJ29ubG9hZCcsXHJcbiAgICAgICAgICAgICdvbmxvYWRlbmQnLFxyXG4gICAgICAgICAgICAnb25yZWFkeXN0YXRlY2hhbmdlJ1xyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy5yZWNoZUV2ZW50cyA9IFtcclxuICAgICAgICAgICAgXCJmaWxlU3RvcFwiLFxyXG4gICAgICAgICAgICBcImZpbGVSZXN1bWVcIixcclxuICAgICAgICAgICAgXCJmaWxlQ2FuY2VsXCIsXHJcbiAgICAgICAgICAgIFwiZmlsZVJlc3RhcnRcIixcclxuICAgICAgICAgICAgXCJmaWxlUmVtb3ZlXCIsXHJcbiAgICAgICAgICAgIFwiZmlsZVJlbW92ZUFsbFwiLFxyXG4gICAgICAgICAgICBcImZpbGVBcHBlbmRcIixcclxuICAgICAgICAgICAgXCJmaWxlQ29tcGxldGVBbGxcIixcclxuICAgICAgICAgICAgXCJmaWxlUHJvZ3Jlc3NcIixcclxuICAgICAgICAgICAgXCJmaWxlU3RhdHVzQ2hhbmdlXCIsXHJcbiAgICAgICAgICAgIFwiZmlsZUVycm9yXCJcclxuICAgICAgICBdXHJcbiAgICB9XHJcbiAgICBvbihuYW1lLGNhbGxiYWNrKXtcclxuICAgICAgICBpZiAodGhpcy5kZXRlY3RFdmVudFR5cGUobmFtZSkgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5ldmVudFtuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFtuYW1lXSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRbbmFtZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LqL5Lu26Kem5Y+R5ZmoXHJcbiAgICAgKiBAcGFyYW0gbmFtZSDkuovku7blkI1cclxuICAgICAqIEBwYXJhbSBpbmZvIOS/oeaBr++8n++8n++8nyDkvKDlhaXlm57osIPnmoTvvIzlhbfkvZPmmK/kvZznlJrnmoTov5jpnIDopoHlvoDkuIvnnItcclxuICAgICAqL1xyXG4gICAgdHJpZ2dlcihuYW1lLCBpbmZvKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRbbmFtZV0gJiYgdGhpcy5ldmVudFtuYW1lXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV2ZW50W25hbWVdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50W25hbWVdW2ldKGluZm8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGV0ZWN0RXZlbnRUeXBlKG5hbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWNoZUV2ZW50cy5pbmRleE9mKG5hbWUpICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3JlY2hlRXZlbnRzJztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMueGhyRXZlbnQuaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd4aHJFdmVudCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVua25vd24gZXZlbnQgbmFtZTogJHtuYW1lfWApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmlsZVNsaWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKHJlY2hlKSB7XHJcbiAgICAgICAgdGhpcy5yZWNoZSA9IHJlY2hlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmlofku7bliIbniYflpITnkIbpgLvovpFcclxuICAgICAqIEBwYXJhbSBmaWxlIOWOn+eUn2ZpbGVcclxuICAgICAqIEBwYXJhbSBkYXRhIOWFtuS7luWPg+aVuFxyXG4gICAgICogQHJldHVybnMge3tyZXNQYXJhbTogbnVsbCwgZmlsZU5hbWU6ICosIGZpbGU6IG51bGwsIG5ldFNwZWVkOiBzdHJpbmcsIGRhdGE6ICosIGZpbGVTaXplOiAqLCBwcm9ncmVzczogbnVtYmVyLCBmaWxlQ2h1bms6IEFycmF5LCBmaWxlSWQ6IHN0cmluZywgc3RhdHVzOiBudW1iZXJ9fVxyXG4gICAgICovXHJcbiAgICBmaWxlU2xpY2UoZmlsZSxkYXRhKSB7XHJcbiAgICAgICAgbGV0IGZpbGVJZCA9IHRoaXMucmVjaGUudXRpbC5yYW5kb21TdHJpbmcoOCk7XHJcbiAgICAgICAgbGV0IGZpbGVTbGljZWQgPSB7XHJcbiAgICAgICAgICAgIGZpbGVJZDogZmlsZUlkLFxyXG4gICAgICAgICAgICBmaWxlTmFtZTogZmlsZS5uYW1lLFxyXG4gICAgICAgICAgICBmaWxlU2l6ZTogZmlsZS5zaXplLFxyXG4gICAgICAgICAgICBuZXRTcGVlZDpcIlwiLFxyXG4gICAgICAgICAgICBmaWxlOm51bGwsXHJcbiAgICAgICAgICAgIGRhdGE6ZGF0YSxcclxuICAgICAgICAgICAgcmVzUGFyYW06bnVsbCxcclxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnJlY2hlLmZpbGVTdGF0dXMub25XYWl0aW5nLFxyXG4gICAgICAgICAgICBwcm9ncmVzczogMCxcclxuICAgICAgICAgICAgZmlsZUNodW5rOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYodGhpcy5yZWNoZS5vcHRpb24uY2h1bmtVc2UgJiYgZmlsZS5zaXplID49IHRoaXMucmVjaGUub3B0aW9uLmNodW5rVXNlU2l6ZSl7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7IC8v5YiH54mH57Si5byVXHJcbiAgICAgICAgICAgIGxldCBzdGFydCA9IDA7IC8v5YiH54mH5byA5aeL5L2N572uXHJcbiAgICAgICAgICAgIGxldCBlbmQgPSAwOyAvL+WIh+eJh+e7k+adn+S9jee9rlxyXG4gICAgICAgICAgICBsZXQgY2h1bmtTaXplID0gdGhpcy5yZWNoZS5vcHRpb24uY2h1bmtTaXplOy8vIOmFjee9ruS4reivu+WPluWIh+Wdl+Wkp+Wwj1xyXG4gICAgICAgICAgICBsZXQgdG90YWxTbGljZXMgPSBNYXRoLmNlaWwoZmlsZS5zaXplIC8gY2h1bmtTaXplKTsgLy8g6K6h566X5paH5Lu25YiH54mH5oC75pWw77yI5ZCR5LiK5Y+W5pW077yJXHJcbiAgICAgICAgICAgIHdoaWxlIChpbmRleCA8IHRvdGFsU2xpY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WIhueJh1xyXG4gICAgICAgICAgICAgICAgbGV0IGNodW5rT2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVDaHVua1NpemU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUlkOiBmaWxlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2h1bms6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUNodW5rQmxvYjogbnVsbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaW5kZXggKiBjaHVua1NpemU7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSBzdGFydCArIGNodW5rU2l6ZTtcclxuICAgICAgICAgICAgICAgIC8v5YiH5Ymy5paH5Lu2XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsZUNodW5rQmxvYiA9IGZpbGUuc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgY2h1bmtPYmouZmlsZUNodW5rQmxvYiA9IGZpbGVDaHVua0Jsb2I7XHJcbiAgICAgICAgICAgICAgICBjaHVua09iai5jaHVuayA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgY2h1bmtPYmouZmlsZUNodW5rU2l6ZSA9IGZpbGVDaHVua0Jsb2Iuc2l6ZTtcclxuICAgICAgICAgICAgICAgIGZpbGVTbGljZWQuZmlsZUNodW5rLnB1c2goY2h1bmtPYmopXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy/mma7pgJpcclxuICAgICAgICAgICAgZmlsZVNsaWNlZC5maWxlID0gZmlsZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmlsZVNsaWNlZFxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSTE4biB7XHJcbiAgICBjb25zdHJ1Y3RvcihsYW5nKXtcclxuICAgICAgICB0aGlzLmxhbmcgPSBsYW5nO1xyXG4gICAgICAgIHRoaXMudHh0ID0ge1xyXG4gICAgICAgICAgICAnemgtY24nOiB7XHJcbiAgICAgICAgICAgICAgICB1blN1cHBvcnRYaHI6J+aCqOeahOa1j+iniOWZqOS4jeaUr+aMgVhIUuivt+axgicsXHJcbiAgICAgICAgICAgICAgICBjYW5ub3RTdG9wQnlQcm9ncmVzczon5q2j5Zyo5Yib5bu65paH5Lu25LiN6IO95pqC5YGcJyxcclxuICAgICAgICAgICAgICAgIGNhbm5vdFN0b3BCeVVwbG9hZGVkOifmlofku7blt7LkuIrkvKDlrozmiJDkuI3og73mmoLlgZwnLFxyXG4gICAgICAgICAgICAgICAgY2Fubm90U3RvcDon5b2T5YmN5paH5Lu254q25oCB5LiN6IO95pqC5YGcJyxcclxuICAgICAgICAgICAgICAgIG5ldFNwZWVkVW5pdDon56eSJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZW4nOntcclxuICAgICAgICAgICAgICAgIG5ldFNwZWVkVW5pdDonUycsXHJcbiAgICAgICAgICAgICAgICB1blN1cHBvcnRYaHI6J1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFhIUiByZXF1ZXN0cycsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaTE4bihuYW1lKXtcclxuICAgICAgICBpZiAodGhpcy50eHRbdGhpcy5sYW5nXSAmJiB0aGlzLnR4dFt0aGlzLmxhbmddW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnR4dFt0aGlzLmxhbmddW25hbWVdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiDphY3nva7lpITnkIZcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRlZmF1bHRPcHRpb24gPSB7XHJcbiAgICAgICAgICAgIGNodW5rVXNlOiB0cnVlLC8v5piv5ZCm5byA5ZCv5YiG54mH5LiK5LygIOm7mOiupOS4jeW8gOWQr1xyXG4gICAgICAgICAgICBjaHVua1NpemU6IDUgPDwgMjAsLy/liIbniYflpKflsI8g6buY6K6kNU1cclxuICAgICAgICAgICAgY2h1bmtVc2VTaXplOiAxMCA8PCAyMCwvL+S9v+eUqOWIhueJh+S4iuS8oOaXtuaWh+S7tuacgOWwj+Wkp+WwjyDpu5jorqQxME1cclxuICAgICAgICAgICAgcGF0aDogJycsLy/kuIrkvKDmjqXlj6Mg5aaC5p6c5byA5ZCv5YiG54mH5LiK5Lyg6ICM5rKh5pyJY2h1bmtJbml0UGF0aOWSjGNodW5rUGF0aOaXtiDkvb/nlKhwYXRoXHJcbiAgICAgICAgICAgIGNodW5rUGF0aDogJycsLy/liIbniYfkuIrkvKDmjqXlj6NcclxuICAgICAgICAgICAgdGltZW91dDogMTAwMCAqIDYwICogNjAsLy/or7fmsYLotoXml7bml7bpl7Qg6buY6K6kMeWwj+aXtlxyXG4gICAgICAgICAgICBjaHVua1RocmVhZE51bWJlcjogNSwvL+WIhueJh+S4iuS8oOaXtu+8jOW8gOWQr+eahOe6v+eoi+aVsO+8jFxyXG4gICAgICAgICAgICBjaHVua0ZpcnN0UmVzUGFyYW1LZXk6IHt9LC8v5YiG6YWN5LiK5Lyg5pe256ys5LiA54mH5LiK5Lyg5a6M5oiQ6L+U5Zue55qE5pWw5o2u5Lit6ZyA6KaB5Zue5Lyg55qE5Y+C5pWwa2V5XHJcbiAgICAgICAgICAgIGxhbmc6ICd6aC1jbicsLy/or63oqIAg6buY6K6k5Lit5paHXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7fSxcclxuICAgICAgICAgICAgZmRLZXk6IHt9LFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvcHRpb25Jbml0KG9wdGlvbikge1xyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBpbiB0aGlzLmRlZmF1bHRPcHRpb24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdE9wdGlvbi5oYXNPd25Qcm9wZXJ0eShpdGVtKSAmJiAhb3B0aW9uLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25baXRlbV0gPSB0aGlzLmRlZmF1bHRPcHRpb25baXRlbV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNodW5rRmlyc3RSZXNQYXJhbUtleSA9IHtcclxuICAgICAgICAgICAgdXBsb2FkSWQ6ICd1cGxvYWRJZCcsXHJcbiAgICAgICAgICAgIGZpbGVOYW1lOiAnZmlsZU5hbWUnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAob3B0aW9uLmNodW5rRmlyc3RSZXNQYXJhbUtleSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gY2h1bmtGaXJzdFJlc1BhcmFtS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uY2h1bmtGaXJzdFJlc1BhcmFtS2V5W2l0ZW1dID0gb3B0aW9uLmNodW5rRmlyc3RSZXNQYXJhbUtleVtpdGVtXSA/IG9wdGlvbi5jaHVua0ZpcnN0UmVzUGFyYW1LZXlbaXRlbV0gOiBjaHVua0ZpcnN0UmVzUGFyYW1LZXlbaXRlbV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5jaHVua0ZpcnN0UmVzUGFyYW1LZXkgPSBjaHVua0ZpcnN0UmVzUGFyYW1LZXlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvcHRpb25cclxuICAgIH1cclxuXHJcbn0iLCIvKipcclxuICogICDmiJHku6zkuIDotbfpgIPnprtcclxuICAgICBGcm9tIHByb3ZpbmcgdG8gb3Vyc2VsdmVzIHdlJ3JlIG5vdCBhZnJhaWRcclxuICAgICDkuLrkuobor4HmmI7oh6rlt7HlubbkuI3mh6blvLFcclxuICAgICBBbmQgbm93XHJcbiAgICAg6ICM546w5ZyoXHJcbiAgICAgVGhlc2Ugc2lsdmVyIHNjcmVlbnMsdGhlc2Ugc2NyaXB0ZWQgZHJlYW1zXHJcbiAgICAg6L+Z5Lqb6Zeq5Lqu55qE6ZO25bmV77yM5ZKM5r2m6I2J55qE5qKm5oOzXHJcbiAgICAgQW5kIG5vd1xyXG4gICAgIOiAjOeOsOWcqFxyXG4gICAgIFdlJ3JlIHN1ZGRlbmx5XHJcbiAgICAg5aaC5q2k56qB54S25ZywXHJcbiAgICAgRmF0ZXMgbGF0ZXN0IGNhc3VhbHRpZXNcclxuICAgICDmiJHku6zpg73otKXnu5nkuoblkb3ov5DjgIJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tLS0t44CKUmVwcmlldmXjgIsyMDIwLjA0LjE0XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWV1ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZWNoZSkge1xyXG4gICAgICAgIHRoaXMucmVjaGUgPSByZWNoZTtcclxuICAgICAgICB0aGlzLmZpbGVTdG9wcGVkSWQgPSBbXTtcclxuICAgICAgICB0aGlzLnF1ZXVlID0ge1xyXG4gICAgICAgICAgICBmaWxlQ2h1bmtPbldhaXRpbmc6IFtdLC8v562J5b6F5LiK5Lyg55qE6Zif5YiXXHJcbiAgICAgICAgICAgIGZpbGVDaHVua09uUHJvZ3Jlc3M6IFtdLC8v5q2j5Zyo5LiK5Lyg55qE6Zif5YiXXHJcbiAgICAgICAgICAgIGZpbGVDaHVua09uQ29tcGxldGVkOiBbXSwvL+S4iuS8oOaIkOWKn+eahOmYn+WIl1xyXG4gICAgICAgICAgICAvLyBmaWxlQ2h1bmtPbkVycm9yOiBbXSwvL+S4iuS8oOWksei0peeahOmYn+WIl1xyXG4gICAgICAgICAgICAvLyBmaWxlQ2h1bmtTdG9wcGVkOiBbXSwvL+aaguWBnOS4reeahOaWh+S7tlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWwhuaWh+S7tijlnZcp5LuO5ZCE5Liq6Zif5YiX5Lit56e76ZmkXHJcbiAgICAgKiBAcGFyYW0gZmlsZUlkXHJcbiAgICAgKi9cclxuICAgIGRlbGV0ZUNodW5rT2ZRdWV1ZShmaWxlSWQpIHtcclxuICAgICAgICBmb3IgKGxldCBpdGVtIGluIHRoaXMucXVldWUpIHtcclxuICAgICAgICAgICAgbGV0IHRlbXBPYmogPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXVlW2l0ZW1dLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWV1ZVtpdGVtXVtpXS5maWxlSWQgIT09IGZpbGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBPYmoucHVzaChPYmplY3QuYXNzaWduKHt9LHRoaXMucXVldWVbaXRlbV1baV0pKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucXVldWVbaXRlbV0gPSB0ZW1wT2JqXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bCG5p+Q5Liq54q25oCB55qE5paH5Lu26Zif5YiX5Lit55qE5p+Q5Liq5paH5Lu255qE5Z2X5YmN56e7XHJcbiAgICAgKiBAcGFyYW0gcXVldWVOYW1lXHJcbiAgICAgKiBAcGFyYW0gZmlsZUlkXHJcbiAgICAgKi9cclxuICAgIHByZXBvc2l0aW9uKHF1ZXVlTmFtZSxmaWxlSWQpIHtcclxuICAgICAgICBsZXQgdGVtcEFyciA9IFtdO1xyXG4gICAgICAgIGxldCBvdGhlclRoaXNBcnIgPSBbXTtcclxuICAgICAgICBmb3IobGV0IGk9IDA7aTx0aGlzLnF1ZXVlW3F1ZXVlTmFtZV0ubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGxldCBhT2JqID0gT2JqZWN0LmFzc2lnbih7fSx0aGlzLnF1ZXVlW3F1ZXVlTmFtZV1baV0pO1xyXG4gICAgICAgICAgICBpZih0aGlzLnF1ZXVlW3F1ZXVlTmFtZV1baV0uZmlsZUlkID09PSBmaWxlSWQpe1xyXG4gICAgICAgICAgICAgICAgdGVtcEFyci5wdXNoKGFPYmopXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgb3RoZXJUaGlzQXJyLnB1c2goYU9iailcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnF1ZXVlW3F1ZXVlTmFtZV0gPSB0ZW1wQXJyLmNvbmNhdChvdGhlclRoaXNBcnIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDph43nva7ku7vliqHpmJ/liJdcclxuICAgICAqL1xyXG4gICAgcmVzZXRDaHVua1F1ZXVlKCkge1xyXG4gICAgICAgIHRoaXMucXVldWUgPSB7XHJcbiAgICAgICAgICAgIGZpbGVDaHVua09uV2FpdGluZzogW10sXHJcbiAgICAgICAgICAgIGZpbGVDaHVua09uUHJvZ3Jlc3M6IFtdLFxyXG4gICAgICAgICAgICBmaWxlQ2h1bmtPbkNvbXBsZXRlZDogW10sXHJcbiAgICAgICAgICAgIC8vIGZpbGVDaHVua1N0b3BwZWQ6IFtdLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmYn+WIl+S4reenu+mZpOaMh+WummZpbGVJZOS7u+WKoe+8jGZpbGVJZOS4jeS8oOWNs+WIoOmZpOaJgOacieS7u+WKoVxyXG4gICAgICogQHBhcmFtIGZpbGVJZFxyXG4gICAgICovXHJcbiAgICByZW1vdmVGaWxlQ2h1bmsoZmlsZUlkID0gbnVsbCkge1xyXG4gICAgICAgIGlmIChmaWxlSWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVDaHVua09mUXVldWUoZmlsZUlkKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRDaHVua1F1ZXVlKClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/lgZzmraLmiYDmnIl4aHLku7vliqFcclxuICAgICAgICB0aGlzLnJlY2hlLmFib3J0QW5kUmVtb3ZlWGhyKGZpbGVJZClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa3u+WKoOaWh+S7tuWIsOaWh+S7tuWIl+ihqOWSjOaWh+S7tuS4iuS8oOmYn+WIl1xyXG4gICAgICogQHBhcmFtIGZpbGVTbGljZWRcclxuICAgICAqIEByZXR1cm5zIHtRdWV1ZX1cclxuICAgICAqL1xyXG4gICAgYXBwZW5kRmlsZUNodW5rUXVldWUoZmlsZVNsaWNlZCkge1xyXG4gICAgICAgIGlmIChmaWxlU2xpY2VkLmZpbGUgJiYgIWZpbGVTbGljZWQuZmlsZUNodW5rLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlLmZpbGVDaHVua09uV2FpdGluZy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZpbGVJZDogZmlsZVNsaWNlZC5maWxlSWQsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBmaWxlU2xpY2VkLmRhdGEsXHJcbiAgICAgICAgICAgICAgICBmaWxlOiBmaWxlU2xpY2VkLmZpbGUsXHJcbiAgICAgICAgICAgICAgICBjaHVuazotMSwvL+i/meaYr+S4gOaVtOS4quaWh+S7tlxyXG4gICAgICAgICAgICAgICAgY2h1bmtzOjAsXHJcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTpmaWxlU2xpY2VkLmZpbGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgZmlsZUNodW5rU2l6ZTogZmlsZVNsaWNlZC5maWxlU2l6ZSxcclxuICAgICAgICAgICAgICAgIHRvdGFsU2l6ZTpmaWxlU2xpY2VkLmZpbGVTaXplXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDtpPGZpbGVTbGljZWQuZmlsZUNodW5rLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlSWQ6IGZpbGVTbGljZWQuZmlsZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGZpbGVTbGljZWQuZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBmaWxlOiBmaWxlU2xpY2VkLmZpbGVDaHVua1tpXS5maWxlQ2h1bmtCbG9iLFxyXG4gICAgICAgICAgICAgICAgICAgIGNodW5rOmZpbGVTbGljZWQuZmlsZUNodW5rW2ldLmNodW5rLFxyXG4gICAgICAgICAgICAgICAgICAgIGNodW5rczpmaWxlU2xpY2VkLmZpbGVDaHVuay5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6ZmlsZVNsaWNlZC5maWxlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBmaWxlQ2h1bmtTaXplOiBmaWxlU2xpY2VkLmZpbGVDaHVua1tpXS5maWxlQ2h1bmtTaXplLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsU2l6ZTpmaWxlU2xpY2VkLmZpbGVTaXplXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5maWxlQ2h1bmtPbldhaXRpbmcucHVzaChvYmopXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpmJ/liJfku7vliqHliIblj5FcclxuICAgICAqIOWwhuS4gOS4quS4quaWh+S7tu+8iOWdl++8ieS7juetieW+hemYn+WIl+i9rOWFpeS4iuS8oOmYn+WIl1xyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW58Kn1cclxuICAgICAqL1xyXG4gICAgZGlzcGF0Y2godGhyZWFkTnVtYmVyID0gbnVsbCkge1xyXG4gICAgICAgIC8v5Yik5pat5piv5ZCm5pyJ5pqC5YGc55qE5Lu75YqhXHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICBsZXQga0luZGV4ID0gLTE7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsZVN0b3BwZWRJZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLnF1ZXVlLmZpbGVDaHVua09uV2FpdGluZy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlsZVN0b3BwZWRJZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGVTdG9wcGVkSWRbaV0gPT09IHRoaXMucXVldWUuZmlsZUNodW5rT25XYWl0aW5nW2tdLmZpbGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcgPSAhdGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0YWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGs7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGtJbmRleCA9IGtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoa0luZGV4ID09PSB0aGlzLnF1ZXVlLmZpbGVDaHVua09uV2FpdGluZy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucXVldWUuZmlsZUNodW5rT25XYWl0aW5nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZDaHVuayA9IHRoaXMucXVldWUuZmlsZUNodW5rT25XYWl0aW5nLnNwbGljZShpbmRleCwgMSlbMF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLmZpbGVDaHVua09uUHJvZ3Jlc3MucHVzaChmQ2h1bmspO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZDaHVua1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdubyBmaWxlQ2h1bmsgaW4gZmlsZUNodW5rT25XYWl0aW5nJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfZGlzcGF0Y2goKXtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlsIbmlofku7bvvIjlnZfvvInku47kuIrkvKDkuK3np7vlhaXlt7LlrozmiJBcclxuICAgICAqIEBwYXJhbSBjaHVua1xyXG4gICAgICogQHJldHVybnMgeyp9XHJcbiAgICAgKi9cclxuICAgIGZvcm1Qcm9ncmVzc1RvQ29tcGxldGVkKGNodW5rKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXVlLmZpbGVDaHVua09uUHJvZ3Jlc3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGNodW5rLmZpbGVJZCA9PT0gdGhpcy5xdWV1ZS5maWxlQ2h1bmtPblByb2dyZXNzW2ldLmZpbGVJZCAmJlxyXG4gICAgICAgICAgICAgICAgY2h1bmsuaW5kZXggPT09IHRoaXMucXVldWUuZmlsZUNodW5rT25Qcm9ncmVzc1tpXS5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZkNodW5rID0gdGhpcy5xdWV1ZS5maWxlQ2h1bmtPblByb2dyZXNzLnNwbGljZShpLCAxKVswXTtcclxuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuZmlsZUNodW5rT25Db21wbGV0ZWQucHVzaChmQ2h1bmspO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZDaHVua1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmb3JQcm9ncmVzc1RvRXJyb3IoZmlsZUlkKXtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZm9ybVdhaXRpbmdUb1N0b3BwZWQoZmlsZUlkKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZvcm1TdG9wcGVkVG9XYWl0aW5nKGZpbGVJZCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpuWujOaIkOafkOS4quaWh+S7tueahOS7u+WKoVxyXG4gICAgICogQHBhcmFtIGZpbGVJZFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGlzQ29tcGxldGUoZmlsZUlkKSB7XHJcbiAgICAgICAgbGV0IHRhZyA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXVlLmZpbGVDaHVua09uQ29tcGxldGVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnF1ZXVlLmZpbGVDaHVua09uQ29tcGxldGVkW2ldLmZpbGVJZCA9PT0gZmlsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICB0YWcgKz0gMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YWcgPT09IHRoaXMucmVjaGUuZmlsZU1hcFtmaWxlSWRdLmZpbGVDaHVuay5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKblrozmiJDkuoblvZPliY3pgInmi6nnmoTmiYDmnInmlofku7bnmoTku7vliqFcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBpc0NvbXBsZXRlQWxsKCkge1xyXG4gICAgICAgIGxldCBzdGF0dXNBbGxDb21wbGV0ZSA9IHRydWU7XHJcbiAgICAgICAgZm9yKGxldCBpdGVtIGluIHRoaXMucmVjaGUuZmlsZU1hcCl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucmVjaGUuZmlsZU1hcFtpdGVtXS5zdGF0dXMgIT09IHRoaXMucmVjaGUuZmlsZVN0YXR1cy5vbkNvbXBsZXRlZCl7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXNBbGxDb21wbGV0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZS5maWxlQ2h1bmtPbldhaXRpbmcubGVuZ3RoID09PSAwICYmXHJcbiAgICAgICAgICAgIHRoaXMucXVldWUuZmlsZUNodW5rT25Qcm9ncmVzcy5sZW5ndGggPT09IDAgJiZcclxuICAgICAgICAgICAgdGhpcy5yZWNoZS54aHJMaXN0Lmxlbmd0aCA9PT0gMCAmJiBzdGF0dXNBbGxDb21wbGV0ZTtcclxuICAgIH1cclxufSIsImltcG9ydCBVdGlsIGZyb20gJy4vVXRpbCc7XHJcbmltcG9ydCBYaHIgZnJvbSAnLi9YaHInO1xyXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9FdmVudCc7XHJcbmltcG9ydCBJMThuIGZyb20gJy4vSTE4bic7XHJcbmltcG9ydCBPcHRpb24gZnJvbSAnLi9PcHRpb24nO1xyXG5pbXBvcnQgUXVldWUgZnJvbSAnLi9RdWV1ZSc7XHJcbmltcG9ydCBGaWxlU2xpY2UgZnJvbSAnLi9GaWxlU2xpY2UnO1xyXG5cclxuLyoqXHJcbiAqICAg5ZWKXHJcblxyXG4g5LuK5aSp6YO95piv5aW95pel5a2QXHJcblxyXG4g5Y2D6YeR55qE5YWJ6Zi05LiN6IO9562JXHJcblxyXG4g5piO5aSp5Y+I5piv5aW95pel5a2QXHJcblxyXG4g6LW25LiK5LqG55ub5LiW5ZKx5Lqr5aSq5bmzXHJcblxyXG4g5LuK5aSp5piv5Liq5aW95pel5a2QXHJcblxyXG4g5b+D5oOz55qE5LqL5YS/6YO96IO95oiQXHJcbiAqL1xyXG5cclxuY2xhc3MgUmVjaGUge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5maWxlTWFwID0ge307XHJcbiAgICAgICAgdGhpcy51dGlsID0gbmV3IFV0aWwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vcHRpb24gPSBuZXcgT3B0aW9uKCkub3B0aW9uSW5pdChvcHRpb24pO1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSBuZXcgRXZlbnQoKTtcclxuICAgICAgICB0aGlzLmkxOG4gPSBuZXcgSTE4bih0aGlzLm9wdGlvbi5sYW5nKTtcclxuICAgICAgICB0aGlzLnF1ZXVlID0gbmV3IFF1ZXVlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZmlsZVNsaWNlID0gbmV3IEZpbGVTbGljZSh0aGlzKTtcclxuICAgICAgICB0aGlzLmZkS2V5ID0ge1xyXG4gICAgICAgICAgICBmaWxlS2V5OiAnZmlsZScsXHJcbiAgICAgICAgICAgIGNodW5rS2V5OiAnY2h1bmsnLFxyXG4gICAgICAgICAgICBjaHVua3NLZXk6ICdjaHVua3MnLFxyXG4gICAgICAgICAgICBmaWxlTmFtZUtleTogJ2ZpbGVOYW1lJyxcclxuICAgICAgICAgICAgZmlsZUNodW5rU2l6ZUtleTpcImZpbGVDaHVua1NpemVcIixcclxuICAgICAgICAgICAgdG90YWxTaXplS2V5OlwidG90YWxTaXplXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmZpbGVTdGF0dXMgPSB7XHJcbiAgICAgICAgICAgIG9uV2FpdGluZzogMCwvL+etieW+heS4rVxyXG4gICAgICAgICAgICBvblByb2dyZXNzOiAxLC8v5LiK5Lyg5LitXHJcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiAyLC8v5bey5a6M5oiQXHJcbiAgICAgICAgICAgIG9uU3RvcHBlZDogMywvL+W3suaaguWBnFxyXG4gICAgICAgICAgICBvbkVycm9yOiA0LC8v5LiK5Lyg5aSx6LSlXHJcbiAgICAgICAgICAgIG9uQ2FuY2VsZWQ6IDUvL+W3suWPlua2iFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy54aHJMaXN0ID0gW11cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaWh+S7tuino+aekOS4iuS8oOS4u+WFpeWPo1xyXG4gICAgICogQHBhcmFtIG9wdGlvblxyXG4gICAgICogQHJldHVybnMge3t9fCp9XHJcbiAgICAgKi9cclxuICAgIHJlY2hlKG9wdGlvbikge1xyXG4gICAgICAgIGxldCBmaWxlcyA9IG9wdGlvbi5maWxlcztcclxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMudXRpbC5pc09iamVjdChvcHRpb24uZGF0YSkgPyBvcHRpb24uZGF0YSA6IG51bGw7XHJcbiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsZVNsaWNlZCA9IHRoaXMuZmlsZVNsaWNlLmZpbGVTbGljZShmaWxlc1tpXSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVNYXBbZmlsZVNsaWNlZC5maWxlSWRdID0gZmlsZVNsaWNlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuYXBwZW5kRmlsZUNodW5rUXVldWUoZmlsZVNsaWNlZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50LnRyaWdnZXIoJ2ZpbGVBcHBlbmQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdldmVudDo6OmZpbGVBcHBlbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVNYXA6IHRoaXMuZmlsZU1hcFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50LnRyaWdnZXIoJ2ZpbGVTdGF0dXNDaGFuZ2UnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdldmVudDo6OmZpbGVTdGF0dXNDaGFuZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVJZDogZmlsZVNsaWNlZC5maWxlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLmZpbGVTdGF0dXMub25XYWl0aW5nLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5leGVYaHIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhlWGhyKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy54aHJMaXN0Lmxlbmd0aCA9PT0gMCAmJiB0aGlzLnF1ZXVlLnF1ZXVlLmZpbGVDaHVua09uV2FpdGluZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IGZjID0gdGhpcy5xdWV1ZS5kaXNwYXRjaCh0aGlzLm9wdGlvbi5jaHVua1RocmVhZE51bWJlcik7XHJcbiAgICAgICAgICAgIGlmKGZjKXtcclxuICAgICAgICAgICAgICAgIGxldCB4aHIgPSBuZXcgWGhyKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy54aHJMaXN0LnB1c2goeGhyKTtcclxuICAgICAgICAgICAgICAgIHhoci5zZW5kWGhyKGZjKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmb3IobGV0IGkgPSAwO2k8ZmMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgbGV0IHhociA9IG5ldyBYaHIodGhpcyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy54aHJMaXN0LnB1c2goeGhyKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB4aHIuc2VuZFhocihmY1tpXSlcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYm9ydEFuZFJlbW92ZVhocihmaWxlSWQgPSBudWxsKSB7XHJcbiAgICAgICAgaWYoZmlsZUlkKXtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnhockxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlSWQgPT09IHRoaXMueGhyTGlzdFtpXS5maWxlT3JDaHVuay5maWxlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnhockxpc3RbaV0uYWJvcnRYaHIoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnhockxpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMueGhyTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy54aHJMaXN0W2ldLmFib3J0WGhyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnhockxpc3QgPSBbXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIoOmZpOaJgOacieS4iuS8oOS7u+WKoVxyXG4gICAgICogdG9kbyDmmoLml7bkuI3lkK/nlKhcclxuICAgICAqIEByZXR1cm5zIHt7ZmlsZU1hcDogKHt9fCopfX1cclxuICAgICAqL1xyXG4gICAgLy8gcmVtb3ZlQWxsKCkge1xyXG4gICAgLy8gICAgIHRoaXMuZmlsZU1hcCA9IHt9O1xyXG4gICAgLy8gICAgIHRoaXMucXVldWUucmVtb3ZlRmlsZUNodW5rKCk7XHJcbiAgICAvLyAgICAgdGhpcy5hYm9ydEFuZFJlbW92ZVhocigpO1xyXG4gICAgLy8gICAgIHRoaXMuZXZlbnQudHJpZ2dlcignZmlsZVJlbW92ZUFsbCcsIHtcclxuICAgIC8vICAgICAgICAgZXZlbnQ6ICdldmVudDo6OmZpbGVSZW1vdmVBbGwnLFxyXG4gICAgLy8gICAgICAgICBmaWxlTWFwOiB0aGlzLmZpbGVNYXBcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIoOmZpOafkOS4quS4iuS8oOS7u+WKoVxyXG4gICAgICogQHBhcmFtIGZpbGVJZFxyXG4gICAgICogQHJldHVybnMge3tmaWxlTWFwOiAoe318KiksIGZpbGVJZDogKn19XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZShmaWxlSWQpIHtcclxuICAgICAgICBpZiAodGhpcy5maWxlTWFwW2ZpbGVJZF0pIHtcclxuICAgICAgICAgICAgaWYodGhpcy5maWxlTWFwW2ZpbGVJZF0uc3RhdHVzID09PSB0aGlzLmZpbGVTdGF0dXMub25DYW5jZWxlZCB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxlTWFwW2ZpbGVJZF0uc3RhdHVzID09PSB0aGlzLmZpbGVTdGF0dXMub25Db21wbGV0ZWQgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZU1hcFtmaWxlSWRdLnN0YXR1cyA9PT0gdGhpcy5maWxlU3RhdHVzLm9uRXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZmlsZU1hcFtmaWxlSWRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5yZW1vdmVGaWxlQ2h1bmsoZmlsZUlkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnRBbmRSZW1vdmVYaHIoZmlsZUlkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnQudHJpZ2dlcignZmlsZVJlbW92ZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ2V2ZW50Ojo6ZmlsZVJlbW92ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUlkOiBmaWxlSWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdG9wKGZpbGVJZCl7XHJcbiAgICAgICAgaWYodGhpcy5maWxlTWFwW2ZpbGVJZF0pe1xyXG4gICAgICAgICAgICBpZih0aGlzLmZpbGVNYXBbZmlsZUlkXS5maWxlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnQudHJpZ2dlcignZmlsZVN0b3AnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdldmVudDo6OmZpbGVTdG9wJyxcclxuICAgICAgICAgICAgICAgICAgICBmaWxlSWQ6IGZpbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICBjYW5TdG9wOmZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6dGhpcy5pMThuLmkxOG4oJ2Nhbm5vdFN0b3BCeVByb2dyZXNzJylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmZpbGVNYXBbZmlsZUlkXS5zdGF0dXMgPT09IHRoaXMuZmlsZVN0YXR1cy5vbldhaXRpbmcgfHwgdGhpcy5maWxlTWFwW2ZpbGVJZF0uc3RhdHVzID09PSB0aGlzLmZpbGVTdGF0dXMub25Qcm9ncmVzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5maWxlU3RvcHBlZElkLnB1c2goZmlsZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVNYXBbZmlsZUlkXS5zdGF0dXMgPSB0aGlzLmZpbGVTdGF0dXMub25TdG9wcGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnQudHJpZ2dlcignZmlsZVN0b3AnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnZXZlbnQ6OjpmaWxlU3RvcCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVJZDogZmlsZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnQudHJpZ2dlcignZmlsZVN0YXR1c0NoYW5nZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdldmVudDo6OmZpbGVTdGF0dXNDaGFuZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlSWQ6IGZpbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLmZpbGVTdGF0dXMub25TdG9wcGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudC50cmlnZ2VyKCdmaWxlU3RvcCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdldmVudDo6OmZpbGVTdG9wJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUlkOiBmaWxlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblN0b3A6ZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6dGhpcy5pMThuLmkxOG4oJ2Nhbm5vdFN0b3AnKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZUZpbGVTdGF0dXMoZmlsZUlkID0gbnVsbCxleGNsdWRlRmlsZUlkID0gbnVsbCxmb3JtU3RhdHVzLHRvU3RhdHVzKXtcclxuICAgICAgICBpZihmaWxlSWQpe1xyXG4gICAgICAgICAgICBpZih0aGlzLmZpbGVNYXBbZmlsZUlkXS5zdGF0dXMgIT09IHRvU3RhdHVzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZU1hcFtmaWxlSWRdLnN0YXR1cyA9IHRvU3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudC50cmlnZ2VyKCdmaWxlU3RhdHVzQ2hhbmdlJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnZXZlbnQ6OjpmaWxlU3RhdHVzQ2hhbmdlJyxcclxuICAgICAgICAgICAgICAgICAgICBmaWxlSWQ6IGZpbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRvU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaXRlbSBpbiB0aGlzLmZpbGVNYXApe1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09IGV4Y2x1ZGVGaWxlSWQgJiYgdGhpcy5maWxlTWFwW2l0ZW1dLnN0YXR1cyA9PT0gZm9ybVN0YXR1cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlTWFwW2l0ZW1dLnN0YXR1cyA9IHRvU3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnQudHJpZ2dlcignZmlsZVN0YXR1c0NoYW5nZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdldmVudDo6OmZpbGVTdGF0dXNDaGFuZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlSWQ6IGZpbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0b1N0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVGaWxlSWRGb3JtU3RvcHBlZElkKGZpbGVJZCl7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpPHRoaXMucXVldWUuZmlsZVN0b3BwZWRJZC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgaWYoZmlsZUlkID09PSB0aGlzLnF1ZXVlLmZpbGVTdG9wcGVkSWRbaV0pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5maWxlU3RvcHBlZElkLnNwbGljZShpLDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlc3VtZShmaWxlSWQpe1xyXG4gICAgICAgIGlmKHRoaXMuZmlsZU1hcFtmaWxlSWRdICYmIHRoaXMuZmlsZU1hcFtmaWxlSWRdLnN0YXR1cyA9PT0gdGhpcy5maWxlU3RhdHVzLm9uU3RvcHBlZCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucXVldWUucXVldWUuZmlsZUNodW5rT25Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucXVldWUucXVldWUuZmlsZUNodW5rT25Qcm9ncmVzcy5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VGaWxlU3RhdHVzKG51bGwsZmlsZUlkLHRoaXMuZmlsZVN0YXR1cy5vblByb2dyZXNzLHRoaXMuZmlsZVN0YXR1cy5vbldhaXRpbmcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWxlSWRGb3JtU3RvcHBlZElkKGZpbGVJZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFib3J0QW5kUmVtb3ZlWGhyKGZpbGVJZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnByZXBvc2l0aW9uKCdmaWxlQ2h1bmtPbldhaXRpbmcnLGZpbGVJZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50LnRyaWdnZXIoJ2ZpbGVSZXN1bWUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdldmVudDo6OmZpbGVSZXN1bWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVJZDogZmlsZUlkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZVhocigpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVzdGFydChmaWxlSWQpe1xyXG4gICAgICAgIGlmKHRoaXMuZmlsZU1hcFtmaWxlSWRdICl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuZmlsZU1hcFtmaWxlSWRdLnN0YXR1cyA9PT0gdGhpcy5maWxlU3RhdHVzLm9uQ2FuY2VsZWQgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZU1hcFtmaWxlSWRdLnN0YXR1cyA9PT0gdGhpcy5maWxlU3RhdHVzLm9uRXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgKiAx44CB5pS55Y+Y5paH5Lu254q25oCB5Li6562J5b6F54q25oCBXHJcbiAgICAgICAgICAgICAgICAgKiAy44CB5bCG5paH5Lu25Z2X5re75Yqg5Yiw562J5b6F6Zif5YiXXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRmlsZVN0YXR1cyhmaWxlSWQsbnVsbCxudWxsLHRoaXMuZmlsZVN0YXR1cy5vbldhaXRpbmcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5hcHBlbmRGaWxlQ2h1bmtRdWV1ZSh0aGlzLmZpbGVNYXBbZmlsZUlkXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50LnRyaWdnZXIoJ2ZpbGVSZXN0YXJ0Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnZXZlbnQ6OjpmaWxlUmVzdGFydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUlkOiBmaWxlSWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhlWGhyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYW5jZWwoZmlsZUlkKXtcclxuICAgICAgICBpZih0aGlzLmZpbGVNYXBbZmlsZUlkXSl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuZmlsZU1hcFtmaWxlSWRdLnN0YXR1cyA9PT0gdGhpcy5maWxlU3RhdHVzLm9uV2FpdGluZyB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxlTWFwW2ZpbGVJZF0uc3RhdHVzID09PSB0aGlzLmZpbGVTdGF0dXMub25TdG9wcGVkIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVNYXBbZmlsZUlkXS5zdGF0dXMgPT09IHRoaXMuZmlsZVN0YXR1cy5vblByb2dyZXNzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmlsZUlkRm9ybVN0b3BwZWRJZChmaWxlSWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VGaWxlU3RhdHVzKGZpbGVJZCxudWxsLG51bGwsdGhpcy5maWxlU3RhdHVzLm9uQ2FuY2VsZWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hYm9ydEFuZFJlbW92ZVhocihmaWxlSWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5yZW1vdmVGaWxlQ2h1bmsoZmlsZUlkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnQudHJpZ2dlcignZmlsZUNhbmNlbCcsIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ2V2ZW50Ojo6ZmlsZUNhbmNlbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUlkOiBmaWxlSWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZU1hcFtmaWxlSWRdLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnQudHJpZ2dlcignZmlsZVByb2dyZXNzJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnZXZlbnQ6OjpmaWxlUHJvZ3Jlc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVJZDogZmlsZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAwLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb24obmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmV2ZW50Lm9uKG5hbWUsIGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY2hlLCAndmVyc2lvbicsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyByZXBsYWNlZCBieSBicm93c2VyaWZ5LXZlcnNpb25pZnkgdHJhbnNmb3JtXHJcbiAgICAgICAgcmV0dXJuICdfX1ZFUlNJT05fXyc7XHJcbiAgICB9XHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCBSZWNoZVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZWNoZSkge1xyXG4gICAgICAgIHRoaXMucmVjaGUgPSByZWNoZTtcclxuICAgICAgICB0aGlzLmZpbGVTdGF0dXMgPSB7XHJcbiAgICAgICAgICAgIG9uV2FpdGluZzogMCwvL+etieW+heS4rVxyXG4gICAgICAgICAgICBvblByb2dyZXNzOiAxLC8v5LiK5Lyg5LitXHJcbiAgICAgICAgICAgIG9uU3RvcHBlZDogMiwvL+W3suaaguWBnFxyXG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogMywvL+W3suWujOaIkFxyXG4gICAgICAgICAgICBvbkVycm9yOiA0LC8v5LiK5Lyg5aSx6LSlXHJcbiAgICAgICAgICAgIG9uQ2FuY2VsZWQ6IDUvL+W3suWPlua2iFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc051bGwodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpc051bGxTdHJpbmcodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBpc09iamVjdCh2YWwpIHtcclxuICAgICAgICBpZiAodmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaXNVbmRlZmluZWQodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlzTnVtYmVyKHZhbCkge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcclxuICAgIH1cclxuXHJcbiAgICBpc1N0cmluZyh2YWwpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XHJcbiAgICB9XHJcblxyXG4gICAgaXNCb29sZWFuKHZhbCkge1xyXG4gICAgICAgIHJldHVybiB2YWwgPT09IHRydWUgfHwgdmFsID09PSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpc1RydWUodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByYW5kb21TdHJpbmcobGVuKSB7XHJcbiAgICAgICAgbGV0IHN0ciA9IFwiXCI7XHJcbiAgICAgICAgbGV0IHJhbmdlID0gbGVuO1xyXG4gICAgICAgIGxldCBhcnIgPSBbJzAnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLFxyXG4gICAgICAgICAgICAnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJywgJ2knLCAnaicsICdrJyxcclxuICAgICAgICAgICAgJ2wnLCAnbScsICduJywgJ28nLCAncCcsICdxJywgJ3InLCAncycsICd0JywgJ3UnLCAndicsXHJcbiAgICAgICAgICAgICd3JywgJ3gnLCAneScsICd6JywgJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJyxcclxuICAgICAgICAgICAgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLFxyXG4gICAgICAgICAgICAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2U7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcG9zID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGFyci5sZW5ndGggLSAxKSk7XHJcbiAgICAgICAgICAgIHN0ciArPSBhcnJbcG9zXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucmVjaGUuZmlsZU1hcFtzdHJdKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmFuZG9tU3RyaW5nKGxlbilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc0ZhbHNlKHZhbCkge1xyXG4gICAgICAgIHJldHVybiB2YWwgPT09IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQXJyYXkodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbCBpbnN0YW5jZW9mIEFycmF5XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TmV0U3BlZWQoc2l6ZSx0aW1lRGlmZil7XHJcbiAgICAgICAgbGV0IGJ5dGVTcGVlZCA9c2l6ZS90aW1lRGlmZjtcclxuICAgICAgICBpZihieXRlU3BlZWQ8MTAyNCl7XHJcbiAgICAgICAgICAgIHJldHVybiBieXRlU3BlZWQudG9GaXhlZCgyKSsnQnl0ZS8nK3RoaXMucmVjaGUuaTE4bi5pMThuKCduZXRTcGVlZFVuaXQnKTtcclxuICAgICAgICB9ZWxzZSBpZihieXRlU3BlZWQ8MTAyNCoxMDI0KSB7XHJcbiAgICAgICAgICAgIGJ5dGVTcGVlZCA9IChieXRlU3BlZWQvMTAyNCkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ5dGVTcGVlZCsnS2IvJyt0aGlzLnJlY2hlLmkxOG4uaTE4bignbmV0U3BlZWRVbml0Jyk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBieXRlU3BlZWQgPSAoYnl0ZVNwZWVkIC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgIHJldHVybiBieXRlU3BlZWQgKyAnTWIvJyt0aGlzLnJlY2hlLmkxOG4uaTE4bignbmV0U3BlZWRVbml0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgWGhyIHtcclxuICAgIGNvbnN0cnVjdG9yKHJlY2hlKSB7XHJcbiAgICAgICAgdGhpcy5yZWNoZSA9IHJlY2hlO1xyXG4gICAgICAgIHRoaXMueGhyID0gdGhpcy5pbml0WGhyKCk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgdGhpcy5maWxlT3JDaHVuayA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSAwXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJ3lp4vljJbkuIDkuKpYSFLvvIzkvYbmmK/kuI3lj5HpgIEg77yM5LiN5omn6KGMc2VuZOaWueazlVxyXG4gICAgICogQHJldHVybnMge1hNTEh0dHBSZXF1ZXN0fG51bGx9XHJcbiAgICAgKi9cclxuICAgIGluaXRYaHIoKSB7XHJcbiAgICAgICAgbGV0IHhociA9IG51bGw7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkge1xyXG4gICAgICAgICAgICB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxyXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LkFjdGl2ZVhPYmplY3QpIHtcclxuICAgICAgICAgICAgeGhyID0gbmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4odGhpcy5yZWNoZS5pMThuLmkxOG4oJ3VuU3VwcG9ydFhocicpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHhoclxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZWNoZS5vcHRpb24uYXN5bmMpIHtcclxuICAgICAgICAgICAgeGhyLnRpbWVvdXQgPSB0aGlzLnJlY2hlLm9wdGlvbi50aW1lb3V0O1xyXG4gICAgICAgICAgICB4aHIudXBsb2FkLm9udGltZW91dCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnhockVycm9yKHRoaXMuZmlsZU9yQ2h1bmsuZmlsZUlkLCB4aHIpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICBpZiAoZS5sZW5ndGhDb21wdXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gZS5sb2FkZWQgLyBlLnRvdGFsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsZU9yQ2h1bmsuY2h1bmsgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSBlLmxvYWRlZCAvIGUudG90YWxcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsVXBTaXplID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAvL+iOt+WPluaVtOS4quaWh+S7tuS4iuS8oOi/m+W6plxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWNoZS54aHJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVXBTaXplICs9ICh0aGlzLnJlY2hlLnhockxpc3RbaV0uZmlsZU9yQ2h1bmsuZmlsZUNodW5rU2l6ZSAqIHRoaXMucHJvZ3Jlc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgdGhpcy5yZWNoZS5xdWV1ZS5xdWV1ZS5maWxlQ2h1bmtPbkNvbXBsZXRlZC5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlT3JDaHVuay5maWxlSWQgPT09IHRoaXMucmVjaGUucXVldWUucXVldWUuZmlsZUNodW5rT25Db21wbGV0ZWRbbl0uZmlsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFVwU2l6ZSArPSB0aGlzLnJlY2hlLnF1ZXVlLnF1ZXVlLmZpbGVDaHVua09uQ29tcGxldGVkW25dLmZpbGVDaHVua1NpemVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9IHRvdGFsVXBTaXplIC8gdGhpcy5yZWNoZS5maWxlTWFwW3RoaXMuZmlsZU9yQ2h1bmsuZmlsZUlkXS5maWxlU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgc3BlZWQgPSB0aGlzLnJlY2hlLnV0aWwuZ2V0TmV0U3BlZWQodGhpcy5maWxlT3JDaHVuay5maWxlQ2h1bmtTaXplLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0VGltZSkgLyAxMDAwKTtcclxuICAgICAgICAgICAgdGhpcy5yZWNoZS5maWxlTWFwW3RoaXMuZmlsZU9yQ2h1bmsuZmlsZUlkXS5uZXRTcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgICAgICB0aGlzLnJlY2hlLmZpbGVNYXBbdGhpcy5maWxlT3JDaHVuay5maWxlSWRdLnByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgICAgIHRoaXMucmVjaGUuZXZlbnQudHJpZ2dlcignZmlsZVByb2dyZXNzJywge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdldmVudDo6OmZpbGVQcm9ncmVzcycsXHJcbiAgICAgICAgICAgICAgICBmaWxlSWQ6IHRoaXMuZmlsZU9yQ2h1bmsuZmlsZUlkLFxyXG4gICAgICAgICAgICAgICAgbmV0U3BlZWQgOnNwZWVkLFxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci51cGxvYWQub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMueGhyRXJyb3IodGhpcy5maWxlT3JDaHVuay5maWxlSWQsIHhocik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzSnNvbiA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHJlc0pzb24uc3RhdHVzKSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOi/memHjOW3sue7j+S8oOWujOS6hlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAx44CB5paH5Lu25LiK5Lyg6Zif5YiX5L2N572u5pS55Y+YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlT2ZNYXAgPSB0aGlzLnJlY2hlLmZpbGVNYXBbdGhpcy5maWxlT3JDaHVuay5maWxlSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuW9k+WJjeaWh+S7tuaAu+Wdl+aVsO+8mlwiICsgZmlsZU9mTWFwLmZpbGVDaHVuay5sZW5ndGggKyBcIi0tLS3lt7LlrozmiJDlrozmiJDlnZfmlbDvvJpcIiArIHRoaXMuZmlsZU9yQ2h1bmsuY2h1bmspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2hlLnF1ZXVlLmZvcm1Qcm9ncmVzc1RvQ29tcGxldGVkKHRoaXMuZmlsZU9yQ2h1bmspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlT3JDaHVuay5jaHVuayA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+Wwj+aWh+S7tuS4iuS8oFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNoZS5jaGFuZ2VGaWxlU3RhdHVzKHRoaXMuZmlsZU9yQ2h1bmsuZmlsZUlkLCBudWxsLCBudWxsLCB0aGlzLnJlY2hlLmZpbGVTdGF0dXMub25Db21wbGV0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv5b2T5YmN5aSn5paH5Lu25Z2X55qE56ys5LiA5Z2XIOe7keWumuiuvue9ruWbnuS8oOWPguaVsFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsZU9yQ2h1bmsuY2h1bmsgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzUGFyYW0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VzZnJwayA9IHRoaXMucmVjaGUub3B0aW9uLmNodW5rRmlyc3RSZXNQYXJhbUtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzSnNvbi5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gaW4gY3VzZnJwaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzUGFyYW1bY3VzZnJwa1tpdGVtXV0gPSByZXNKc29uLmRhdGFbY3VzZnJwa1tpdGVtXV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2hlLmZpbGVNYXBbdGhpcy5maWxlT3JDaHVuay5maWxlSWRdLnJlc1BhcmFtID0gcmVzUGFyYW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WIpOaWreaVtOS4quaWh+S7tuaYr+WQpuS4iuS8oOWujFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjaGUucXVldWUuaXNDb21wbGV0ZSh0aGlzLmZpbGVPckNodW5rLmZpbGVJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmlofku7bnirbmgIHmlLnlj5hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2hlLmNoYW5nZUZpbGVTdGF0dXModGhpcy5maWxlT3JDaHVuay5maWxlSWQsIG51bGwsIG51bGwsIHRoaXMucmVjaGUuZmlsZVN0YXR1cy5vbkNvbXBsZXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/mnKzmrKHku7vliqHlrozmiJAg5YGc5q2i5bm256e76ZmkWGhyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjaGUuYWJvcnRBbmRSZW1vdmVYaHIodGhpcy5maWxlT3JDaHVuay5maWxlSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDliKTmlq3mmK/lkKbmiYDmnInku7vliqHlrozmiJBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjaGUucXVldWUuaXNDb21wbGV0ZUFsbCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2hlLmV2ZW50LnRyaWdnZXIoJ2ZpbGVDb21wbGV0ZUFsbCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogJ2V2ZW50Ojo6ZmlsZUNvbXBsZXRlQWxsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogeGhyLnJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5omn6KGM5LiL5qyh5Lu75YqhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2hlLmV4ZVhocigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnhockVycm9yKHRoaXMuZmlsZU9yQ2h1bmsuZmlsZUlkLCB4aHIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnhockVycm9yKHRoaXMuZmlsZU9yQ2h1bmsuZmlsZUlkLCB4aHIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4geGhyXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlj5HpgIHor7fmsYJcclxuICAgICAqIEBwYXJhbSBmaWxlT3JDaHVua1xyXG4gICAgICovXHJcbiAgICBzZW5kWGhyKGZpbGVPckNodW5rKSB7XHJcbiAgICAgICAgdGhpcy5maWxlT3JDaHVuayA9IGZpbGVPckNodW5rO1xyXG4gICAgICAgIGlmICh0aGlzLnhocikge1xyXG4gICAgICAgICAgICBsZXQgZmQgPSB0aGlzLmJ1aWxkRm9ybURhdGEoZmlsZU9yQ2h1bmspO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZWNoZS5maWxlTWFwW2ZpbGVPckNodW5rLmZpbGVJZF0uc3RhdHVzICE9PSB0aGlzLnJlY2hlLmZpbGVTdGF0dXMub25Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNoZS5jaGFuZ2VGaWxlU3RhdHVzKHRoaXMuZmlsZU9yQ2h1bmsuZmlsZUlkLCBudWxsLCBudWxsLCB0aGlzLnJlY2hlLmZpbGVTdGF0dXMub25Qcm9ncmVzcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcGF0aCA9IHRoaXMuZmlsZU9yQ2h1bmsuY2h1bmsgPT09IC0xID8gdGhpcy5yZWNoZS5vcHRpb24ucGF0aCA6IHRoaXMucmVjaGUub3B0aW9uLmNodW5rUGF0aDtcclxuICAgICAgICAgICAgdGhpcy54aHIub3BlbignUE9TVCcsIHBhdGgsIHRoaXMucmVjaGUub3B0aW9uLmFzeW5jKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRYaHJIZWFkZXIodGhpcy54aHIsIHRoaXMucmVjaGUub3B0aW9uLmhlYWRlcnMpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnhoci5zZW5kKGZkKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB4aHJFcnJvcihmaWxlSWQsIHhocikge1xyXG4gICAgICAgIHRoaXMucmVjaGUuYWJvcnRBbmRSZW1vdmVYaHIoZmlsZUlkKTtcclxuICAgICAgICB0aGlzLnJlY2hlLnF1ZXVlLmRlbGV0ZUNodW5rT2ZRdWV1ZShmaWxlSWQpO1xyXG4gICAgICAgIHRoaXMucmVjaGUuY2hhbmdlRmlsZVN0YXR1cyhmaWxlSWQsIG51bGwsIG51bGwsIHRoaXMucmVjaGUuZmlsZVN0YXR1cy5vbkVycm9yKVxyXG4gICAgICAgIHRoaXMucmVjaGUuZXZlbnQudHJpZ2dlcignZmlsZUVycm9yJywge1xyXG4gICAgICAgICAgICBldmVudDogJ2V2ZW50Ojo6ZmlsZUVycm9yJyxcclxuICAgICAgICAgICAgZmlsZUlkOiBmaWxlSWQsXHJcbiAgICAgICAgICAgIHhocjogeGhyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmnoTlu7pmb3JtZGF0YeaVsOaNrlxyXG4gICAgICogQHBhcmFtIGZpbGVPckNodW5rXHJcbiAgICAgKiBAcmV0dXJucyB7Rm9ybURhdGF9XHJcbiAgICAgKi9cclxuICAgIGJ1aWxkRm9ybURhdGEoZmlsZU9yQ2h1bmspIHtcclxuICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3IobGV0IGl0ZW0gaW4gdGhpcy5yZWNoZS5vcHRpb24uZmRLZXkpe1xyXG4gICAgICAgICAgICBpZih0aGlzLnJlY2hlLmZkS2V5W2l0ZW1dKXtcclxuICAgICAgICAgICAgICAgIGlmKGZpbGVPckNodW5rLmNodW5rID09PSAxICYmIGl0ZW0gPT09ICdmaWxlTmFtZScpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCh0aGlzLnJlY2hlLm9wdGlvbi5mZEtleVtpdGVtXSxmaWxlT3JDaHVua1t0aGlzLnJlY2hlLmZkS2V5W2l0ZW1dXSlcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQodGhpcy5yZWNoZS5vcHRpb24uZmRLZXlbaXRlbV0sZmlsZU9yQ2h1bmtbdGhpcy5yZWNoZS5mZEtleVtpdGVtXV0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc1BhcmFtID0gdGhpcy5yZWNoZS5maWxlTWFwW2ZpbGVPckNodW5rLmZpbGVJZF0ucmVzUGFyYW07XHJcbiAgICAgICAgaWYgKHJlc1BhcmFtKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gaW4gdGhpcy5yZWNoZS5vcHRpb24uY2h1bmtGaXJzdFJlc1BhcmFtS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXNQYXJhbVtpdGVtXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGl0ZW0sIHJlc1BhcmFtW2l0ZW1dKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJlY2hlLnV0aWwuaXNPYmplY3QoZmlsZU9yQ2h1bmsuZGF0YSkgJiYgZmlsZU9yQ2h1bmsuZGF0YS50b1N0cmluZygpICE9PSAne30nKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gaW4gZmlsZU9yQ2h1bmsuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGl0ZW0sIGZpbGVPckNodW5rLmRhdGFbaXRlbV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu4jmraLor7fmsYJcclxuICAgICAqIHRvZG8g5Zyo6L+Z6YeM57uI5q2i6K+35rGC5aW95YOP5bm25rKh5pyJ5LuA5LmI5Y2155So77yM6ZyA6KaB57un57ut5rWL6K+VXHJcbiAgICAgKi9cclxuICAgIGFib3J0WGhyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnhocikge1xyXG4gICAgICAgICAgICAvL3RoaXMueGhyLmFib3J0KCk7XHJcbiAgICAgICAgICAgIHRoaXMueGhyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7or7fmsYLlpLRcclxuICAgICAqIEBwYXJhbSB4aHJcclxuICAgICAqIEBwYXJhbSBoZWFkZXJzXHJcbiAgICAgKi9cclxuICAgIHNldFhockhlYWRlcih4aHIsIGhlYWRlcnMpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWNoZS51dGlsLmlzT2JqZWN0KGhlYWRlcnMpICYmIGhlYWRlcnMudG9TdHJpbmcoKSAhPT0gJ3t9Jykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIGluIGhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGl0ZW0sIGhlYWRlcnNbaXRlbV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvcmUvUmVjaGUnKS5kZWZhdWx0O1xyXG4iXX0="}